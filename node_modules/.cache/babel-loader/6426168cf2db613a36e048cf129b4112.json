{"ast":null,"code":"import _classCallCheck from\"/Users/codeplus/Desktop/Cerebral/cerebral-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/codeplus/Desktop/Cerebral/cerebral-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/codeplus/Desktop/Cerebral/cerebral-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/codeplus/Desktop/Cerebral/cerebral-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/codeplus/Desktop/Cerebral/cerebral-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import MaterialLink from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Logo from'../../public/cerebral_icon.png';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';//import {Link} from 'react-router-dom';\nimport{Redirect}from'react-router-dom';import{withStyles}from'@material-ui/core/styles';import{authenticateUser}from'../../services/AuthServices/authServices';function Copyright(){return React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\"},'Copyright © ',React.createElement(MaterialLink,{color:\"inherit\",href:\"https://github.com/matt-rose6/\"},\"Matthew Rose,\"),'',' '+new Date().getFullYear(),'.');}var styles=function styles(theme){return{'@global':{body:{backgroundColor:theme.palette.common.white}},paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};};var SignIn=/*#__PURE__*/function(_Component){_inherits(SignIn,_Component);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_possibleConstructorReturn(this,_getPrototypeOf(SignIn).call(this,props));_this.handleEmailChange=function(event){_this.setState({email:event.target.value});};_this.handlePassChange=function(event){_this.setState({pass:event.target.value});};_this.handleRememberChange=function(event){_this.setState({remember:event.target.checked});};_this.handleSubmit=function(){authenticateUser(_this.state.email,_this.state.pass).then(function(res){console.log(res);if(res.success){localStorage.clear();localStorage.setItem(\"token\",res.token);localStorage.setItem(\"uid\",res.user.uid);_this.setState({redirect:true});//only execute if authentication works\n}else{alert(res.err);}});};_this.state={email:'',pass:'',remember:false,redirect:false};return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var _this2=this;var classes=this.props.classes;if(this.state.redirect){//console.log(\"test\")\nreturn React.createElement(Redirect,{to:\"/\"});}return React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},React.createElement(CssBaseline,null),React.createElement(\"div\",{className:classes.paper},React.createElement(\"img\",{style:{width:'75px',height:'75px'},src:Logo,alt:\"Cerebral Logo\"}),React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign In\"),React.createElement(\"form\",{className:classes.form,noValidate:true},React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,onChange:function onChange(event){return _this2.handleEmailChange(event);}}),React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:function onChange(event){return _this2.handlePassChange(event);}}),React.createElement(FormControlLabel,{control:React.createElement(Checkbox,{value:\"remember\",color:\"primary\",onChange:function onChange(event){return _this2.handleRememberChange(event);}}),label:\"Remember me\"}),React.createElement(Button//type=\"submit\"\n,{fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit//component={Link}\n//to=\"/\"\n,onClick:this.handleSubmit},\"Sign In\"),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:true},React.createElement(MaterialLink,{href:\"#\",variant:\"body2\"},\"Forgot password?\")),React.createElement(Grid,{item:true},React.createElement(MaterialLink,{href:\"register\",variant:\"body2\"},\"Don't have an account? Sign Up\"))))),React.createElement(Box,{mt:8},React.createElement(Copyright,null)));}}]);return SignIn;}(Component);export default withStyles(styles,{withTheme:true})(SignIn);","map":{"version":3,"sources":["/Users/codeplus/Desktop/Cerebral/cerebral-frontend/src/pages/SignIn/SignIn.js"],"names":["React","Component","Button","CssBaseline","TextField","FormControlLabel","Checkbox","MaterialLink","Grid","Box","Logo","Typography","Container","Redirect","withStyles","authenticateUser","Copyright","Date","getFullYear","styles","theme","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","secondary","main","form","width","submit","SignIn","props","handleEmailChange","event","setState","email","target","value","handlePassChange","pass","handleRememberChange","remember","checked","handleSubmit","state","then","res","console","log","success","localStorage","clear","setItem","token","user","uid","redirect","alert","err","classes","height","withTheme"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MaterialLink from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Logo from '../../public/cerebral_icon.png';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\n//import {Link} from 'react-router-dom';\nimport {Redirect} from 'react-router-dom';\nimport {withStyles } from '@material-ui/core/styles';\nimport {authenticateUser} from '../../services/AuthServices/authServices';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <MaterialLink color=\"inherit\" href=\"https://github.com/matt-rose6/\">\n        Matthew Rose, \n      </MaterialLink>{''}\n      {' ' + new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst styles = theme => ({\n  '@global': {\n      body: {\n        backgroundColor: theme.palette.common.white,\n      },\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n});\n\nclass SignIn extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      pass: '',\n      remember: false,\n      redirect: false\n    }\n  }\n\n  handleEmailChange = (event) => {\n    this.setState({email: event.target.value});\n  }\n\n  handlePassChange = (event) => {\n    this.setState({pass: event.target.value});\n  }\n\n  handleRememberChange = (event) => {\n    this.setState({remember: event.target.checked});\n  }\n\n  handleSubmit = () => {\n    authenticateUser(this.state.email, this.state.pass).then(res => {\n      console.log(res)\n      if(res.success) {\n        localStorage.clear()\n        localStorage.setItem(\"token\", res.token)\n        localStorage.setItem(\"uid\", res.user.uid)\n        this.setState({ redirect: true }); //only execute if authentication works\n      } else {\n        alert(res.err)\n      }\n    })\n  }\n\n  render() {\n    const { classes } = this.props;\n    if(this.state.redirect){\n      //console.log(\"test\")\n      return <Redirect to='/'/> \n    }\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n            <img style={{width: '75px', height: '75px'}} src={Logo} alt = \"Cerebral Logo\" />\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign In\n          </Typography>\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              onChange = {(event) => this.handleEmailChange(event)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange = {(event) => this.handlePassChange(event)}\n            />\n            <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" onChange = {(event)=> this.handleRememberChange(event)}/>}\n              label=\"Remember me\"\n            />\n            <Button\n              //type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              //component={Link}\n              //to=\"/\"\n              onClick ={this.handleSubmit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                <MaterialLink href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </MaterialLink>\n              </Grid>\n              <Grid item>\n                <MaterialLink href=\"register\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </MaterialLink>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}\n\nexport default withStyles (styles, {withTheme: true}) (SignIn);"]},"metadata":{},"sourceType":"module"}